diff --git a/Makefile.in b/Makefile.in
index e03b63c..880262b 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -16,9 +16,9 @@ GPRBUILD_OPTIONS=
 PROCESSORS?=0
 GPRBUILD=@gprbuild@ -j${PROCESSORS} -m ${GPRBUILD_OPTIONS}
 GPRINSTALL=@gprinstall@
-TARGET=@target@
-TARGET_ALIAS=@target_alias@
-HOST=@host@
+TARGET=@host@
+TARGET_ALIAS=@host_alias@
+HOST=@build@
 
 # Compiler mode: one of "distrib", "Debug", "Production", "profile", "coverage"
 MODE=@BUILD_TYPE@
diff --git a/aclocal.m4 b/aclocal.m4
index 39392bc..e17b338 100644
--- a/aclocal.m4
+++ b/aclocal.m4
@@ -91,8 +91,8 @@ project Lib is
 end Lib;
 EOF
 
-      if test "x$host_alias" != "x$target_alias"; then
-          $gprbuild --target=$target_alias -c -q -P$tmp/lib 2>/dev/null
+      if test "x$build_alias" != "x$host_alias"; then
+          $gprbuild --target=$host_alias -c -q -P$tmp/lib 2>/dev/null
       else
           $gprbuild -c -q -P$tmp/lib 2>/dev/null
       fi
